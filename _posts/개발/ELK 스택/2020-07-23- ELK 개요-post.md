---
title: "ELK 개요"
date: 2020-07-23 15:44:00 -0400
categories: ELK스택
---

## 검색 시스템의 구성 요소

-   정보를 수집하는 수집기
-   수집한 데이터를 저장하는 스토리지
-   수집한 데이터를 검색에 적절한 형태로 변환하는 색인기
-   색인된 데이터에서 일치하는 문서를 찾는 검색기로 구성

## Elasticsearch와 관계형 데이터베이스와의 차이점

### 데이터베이스

-   모든 데이터는 중복을 제거하고 정형 데이터로 구조화해 행과 열로 구성
-   텍스트 매칭을 통한 단순한 검색만 가능
-   텍스트를 여러 단어로 변형하거나 여러 개의 동의어나 유의어를 활용한 검색은 불가능

### 검색엔진

-   비정형 데이터를 색인하고 검색 가능
-   형태소 분석을 통한 사람이 구사하는 자연어의 처리가 가능
-   역색인 구조를 바탕으로 빠른 검색 가능

## Elasticsearch 장점

-   오픈소스 검색엔진
-   전문검색(Full Text) - 내용전체를 색인해서 특정 단어가 포함된 문서를 검색
-   통계분석 - 비정형 로그 데이터를 수집하고 한 곳에 모아 통계분석을 할 수 있음
-   스키마리스 - 정형화되지 않은 다양한 형태의 문서도 자동으로 색인하고 검색할 수 있음
-   RESTfull API - Http 기반의 RESTful API를 지원하고 요청뿐 아니라 응답에도 JSON 형식으로 사용해 개발 언어, 운영체제, 시스템에 관계 없이 이기종 플랫폼에서도 이용 가능
-   멀티테넌시 - 서로 상이한 인덱스 일지라도 검색할 필드명만 같으면 여러개의 인덱스를 한 번에 조회 할 수 있음
-   Document-Oritented - 여러 계층의 데이터를 JSON 형식의 구조화 된 문서로 인덱스에 저장 할 수 있음. 계층구조의 문서도 한 번에 쿼리로 쉽게 조회
-   역색인 - MongoDB, 카산드라 같은 일반적인 NoSQL은 역색인을 지원하지 않지만, 일레스틱 서치는 역색인을 지원함
-   확장성과 가용성 - 분산 구성해서 확장 가능하고 이를 통한 빠르게 처리할 수 있음

## Elasticsearch 단점

-   실시간이 아니다. 일반적으로 색인된 데이터는 통상적으로 1초 뒤에나 검색이 가능<br>
    (색인된 데이터는 내부적으로 커밋과 플러시 같은 복잡한 과정을 거치기 때문)
-   트랙잭션과 롤백 기능을 제공하지 않음
-   데이터의 업데이트를 제공하지 않음<br>
    (기존문서 삭제하고 변경된 내용을 새로운 문서로 생성<br>
    , 단순 업데이트에 비해 상대적으로 많은 비용이 발생 반면, 불변적이라는 이점을 취할 수 있음)

## Elasticsearch 선정 이유

-   특정 단어를 검색하기 위해서 테이블 전체를 스캔해야 하기 때문에 검색 속도가 느림
-   동의어나 유어의 검색이 불가능
-   DB기반의 Full text 검색은 변경된 데이터나 혹은 데이터가 추가 될 때 전체 인덱스를 다시 만들어야하는 문제가 존재
-   DB기반의 Full text 검색은 DB 부하가 크며 데이터가 늘어날수록 그 문제는 더욱 심각
-   모든 테이블을 스캔하는 것이 아닌 필요한 단어에 정확한 위치를 검색할 수 있는 검색엔진 아키텍처가 필요
-   폭발적으로 증가하는 데이터에 대한 실시간 검색 지원하기 위함
